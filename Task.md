# Описание игровых механик

Жанр игры - тактическая игра с элементами RTS. Двумерная карта, вид сверху, с прокруткой по игровому миру, а также мини-картой. Карта открывается по  мере продвижения юнитов. В распоряжении игрока — призываемые единороги, которые можно получить в портале за единицы энергии. Единороги ходят по прямой (вертикали и горизонтали), обходят препятствия. Выстрелы идут автоматически при виде противника, когда он оказывается на расстоянии стрельбы (не только по прямой, в любом направлении на расстояние, меньшее или равное длине стрельбы). Сама стрельба реализована как непрерывная атака лучом-линией. 

Противник представляет собой вражеские юниты, а также источники этих юнитов в виде строений, с некоторой периодичностью создающие новые юниты врагов. Юниты могут быть в пассивном состоянии, могут случайно перемещаться по карте, могут двигаться по заданному маршруту, а также целенаправленно атаковать ангар игрока. В любом случае, при приближении единорога к зоне видимости юнита он начинает атаку на единорога. Все вражеские юниты - ближнего боя, для урона единорогу, они должны подойти вплотную.

Базовая цель игры, соответственно, отбить все атаки и очистить карту от вражеских юнитов и строений, при этом не дав разрушить свой портал (не обязательно). На разных уровнях будут реализованы разные цели, например, добыть сколько-то энергии, продержаться заданное время или добраться до заданного места на карте. Уровни также различаются количеством вражеских юнитов и строений, активностью юнитов и источниками ресурсов.
Для каждого уровня могут быть заданы доступные игроку специализации единорогов (виды и уровни специализаций) и улучшения портала, а также начальные значения улучшений.

## Основные механики игры:

1. Каждый единорог имеет одну или несколько специализаций, которые можно за добытую энергию ему назначить. Назначение каждой новой специализации стоит дороже, поэтому делать универсальные юниты невыгодно. Также специализация имеет уровни, при назначении следующего уровня, её эффективность возрастает.
2. Значение энергии возрастает за добытые на карте ресурсы, собираемые единорогами со специализацией сбора. Ресурсы могут быть как точечные (блоки энергии), так и протяженные (полезные ископаемые на поверхности).
3. Управление классическое мышкой (левой кнопкой выделение, правой - команда движения), но без возможности выделить группу единорогов, команды движения отдаются по очереди, действия специализаций (сбор, ремонт, атака) выполняются автоматически при нахождении объекта для действия специализации в зоне действия.
4. В портала доступны улучшения для единорогов - можно заказать эа единицы энергии несколько уровней улучшений. Улучшения будут касаться только единорогов, выпущенных после изучения улучшения. Изучение каждого нового улучшения стоит дороже, поэтому делать максимальное изучение улучшений невыгодно.
5. Число единорогов, доступных игроку, ограничено. Их количество можно несколько раз повысить, заказав улучшения в портале за единицы энергии.
6. Накапливаемая энергия зависит от количества единорогов, и строений/блоков накопителей на карте.
7. Единорог может открыть новый портал.

## Специализации единорогов

1. Атака - с помощью красного луча единорог атакует ближайшего к нему противника. Улучшение специализации - сила атаки и дальность луча.
2. Сбор ресурсов - с помощью синего луча единорог добывает энергию из находящихся в зоне действия ресурсов. Улучшение специализации - скорость сбора и дальность луча.
3. Ремонт - с помощью зеленого луча единорог лечит ближайших к нему единорогов, кроме самого себя. Улучшение специализации - скорость лечения и дальность луча.
4. Силовой щит - единорог получает автоматический, медленно восстанавливаемый силовой щит, который поглощает урон от противника. Улучшение специализации - величина щита и скорость восстановления. (возможно, это надо сделать разовыми действием и щит будет держаться, пока его не снесут, тогда будет сначала изучение, потом применение)
5. Обзор - единорог может вызвать заклинание, которое откроет карту в радиусе от его местоположения. Сначала изучение, потом применение.

Все специализации имеют несколько уровней.

## Улучшения единорогов в портале (продумать)

1. Броня - увеличивает значение брони единорога.
2. Скорость - увеличивает скорость движения единорога.
3. Максимальное количество танков - увеличивает количество единорогов, доступное игроку на поле.

Все улучшения имеют несколько уровней.

## Перечень параметров игры, задаваемых в конфигурационных файлах, общих для всех уровней (переделать)

* Цена базового танка
* Броня базового танка
* Скорость базового танка
* Начальное количество танков, доступных игроку
* Число доступных уровней специализаций
* Для специализации атаки - новые значения каждого уровня специализации (атака и дальность)
* Для специализации сбора ресурсов - новые значения каждого уровня специализации (скорость сбора и дальность)
* Для специализации ремонта - новые значения каждого уровня специализации (скорость ремонта и дальность)
* Для специализации силового щита - новые значения каждого уровня специализации (скорость восстановления и показатель щита)
* Для всех специализаций - массив цен за каждое новое улучшение, размер равен числу специализаций умноженный на доступное количество уровней специализаций.
* Для улучшения брони - новые значения каждого уровня улучшения (значение брони)
* Для улучшения скорости - новые значения каждого уровня улучшения (значения скорости)
* Для улучшения количества танков - новые значения каждого уровня улучшения (доступное количество танков)
* Для всех улучшений - массив цен за каждое новое улучшение, размер равен числу улучшений умноженный на доступное количество уровней улучшений.
* Список видов вражеских юнитов
* Характеристики каждого типа юнитов - скорость, значение брони, атака.
* Список видов вражеских зданий
* Характеристики каждого типа зданий - значение брони и типы создаваемых в них юнитов, а также скорость выпуска юнитов (интервал в секундах).
* Время, затрачиваемое на построение танка в ангаре
* Время, затрачиваемое на получение специализации танка
* Время, затрачиваемое на улучшение танков в ангаре

## Начало игры

Единорог попадает на поле, магии мало, портала нет. Запаса энергии хватит  на сбор ресурсов, обзор или атаку (продумать). Позже найдет аккумулятор брошеный, число доступной магии увеличится. Найти двух других единорогов, у них уже будут изучены некоторые специализации. Собрать больше ресурсов и зачистить местность. На второй карте нужно будет уже вызвать портал и разрушить угрозу  в виде логова.

Далее находим поселение земных пони.

## Корректировки проекта

Игровое поле растягивается под весь экран, панели управления центруются внизу, инфа о ресурсах - справа и слева. Сверху будет иконка персонажа и его реплики.

* Добавить выделение группы юнитов и реализовать для них движение
* Выводить статистику в конце уровня
